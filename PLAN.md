# 인공지능 챗봇 여친 만들기 프로젝트 계획서

## 1. 프로젝트 개요

- **프로젝트명**: Gemini AI 챗봇 여자친구
- **목표**: Google의 Gemini 모델을 기반으로 하여, 지정된 페르소나(Persona)를 가지고 사용자와 자연스러운 일상 대화를 나누는 웹 기반 챗봇 애플리케이션을 개발합니다. 사용자와의 이전 대화를 기억하여 관계를 형성하는 듯한 느낌을 주는 것을 목표로 합니다.

## 2. 핵심 기능

1.  **지정된 페르소나**: 챗봇의 이름, 나이, 성격, 말투, 관심사 등을 미리 정의하여 일관된 캐릭터를 유지합니다.
2.  **대화 기억**: 사용자와의 이전 대화 내용을 데이터베이스에 저장하고, 새로운 질문에 답변할 때 과거 대화 내용을 참고하여 더욱 개인화되고 깊이 있는 답변을 생성합니다.
3.  **실시간 채팅 인터페이스**: 사용자가 메시지를 입력하면 실시간으로 챗봇의 답변을 받아볼 수 있는 웹 UI를 제공합니다.

## 3. 기술 스택 (Technology Stack)

- **AI 모델**: Google Gemini API
- **백엔드**: Python, FastAPI (비동기 처리 및 빠른 API 개발에 용이)
- **프론트엔드**: React (JavaScript/TypeScript), CSS (동적인 웹 UI 구현)
- **데이터베이스**: SQLite (가볍고 별도의 서버 설치가 필요 없어 초기 개발에 적합)

## 4. 프로젝트 구조 (현재 완성된 구조)

```
📁 kaoruko-chatbot/ (chatbot-girlfriend)
├── 📁 backend/                    # 🐍 Python FastAPI 백엔드
│   ├── 📄 main.py                # FastAPI 메인 서버 + Gemini API 통합
│   ├── 📄 models.py              # Pydantic 데이터 모델 (ChatRequest/Response)
│   ├── 📄 database.py            # SQLite 데이터베이스 설정
│   ├── 📄 crud.py                # 채팅 기록 CRUD 작업
│   ├── 📄 requirements.txt       # Python 의존성 (FastAPI, Gemini API 등)
│   ├── 🔒 .env                   # Google API 키 (GitHub 제외)
│   ├── 📄 .env.template          # 안전한 환경변수 템플릿
│   ├── 💾 chat_history.db        # SQLite 채팅 기록 데이터베이스
│   └── 📁 __pycache__/           # Python 컴파일 캐시
│
├── 📁 frontend/                   # ⚛️ React 프론트엔드
│   ├── 📁 src/                   # React 소스 코드
│   │   ├── 📄 App.jsx            # 메인 채팅 컴포넌트 (이름 입력, 대화 UI)
│   │   ├── 🎨 App.css            # 카오루코 테마 스타일시트
│   │   ├── 📄 main.jsx           # React 애플리케이션 진입점
│   │   ├── 🎨 index.css          # 기본 스타일
│   │   └── 📁 assets/            # React 정적 리소스
│   │       └── 🖼️ react.svg      
│   ├── 📁 public/                # 공개 리소스
│   │   ├── 🌸 kaoruko.png        # 카오루코 캐릭터 이미지
│   │   └── 🖼️ vite.svg          # Vite 로고
│   ├── 📁 node_modules/          # Node.js 패키지 (GitHub 제외)
│   ├── 📄 package.json           # React + Vite 의존성 설정
│   ├── 📄 package-lock.json      # 의존성 버전 잠금
│   ├── 📄 vite.config.js         # Vite 빌드 도구 설정
│   ├── 📄 eslint.config.js       # JavaScript 코드 품질 설정
│   ├── 📄 index.html             # HTML 템플릿
│   └── 📄 .gitignore             # 프론트엔드 제외 파일
│
├── 📚 **프로젝트 문서**
│   ├── 📄 README.md              # 메인 사용 가이드 (한글)
│   ├── 📄 PLAN.md                # 프로젝트 계획서 (본 문서)
│   ├── 📄 TODO.md                # 개발 진행 상황 체크리스트
│   └── 📄 GITHUB_GUIDE.md        # GitHub 업로드 및 사용 가이드
│
├── 🌸 **캐릭터 시스템**
│   ├── 🖼️ Kaoruko_Waguri.png     # 와구리 카오루코 캐릭터 이미지
│   └── 📄 Kaoruko_Waguri.txt     # 캐릭터 상세 설정 정보
│
├── 🛠️ **개발 및 실행 도구**
│   ├── 🚀 카오루코_실행.bat       # 원클릭 서버 시작 스크립트
│   ├── 📊 DB_확인.bat            # 데이터베이스 관리 도구
│   ├── 📄 view_db.py             # Python 데이터베이스 뷰어
│   ├── 🧪 test_backend.py        # 백엔드 API 테스트 스크립트
│   ├── 📄 list_models.py         # Gemini 모델 목록 확인
│   └── 📄 update_todo.py         # TODO 리스트 자동 업데이트
│
├── 🔒 **보안 설정**
│   ├── 📄 .gitignore             # Git 제외 파일 목록
│   ├── 🔑 api_key.txt            # Google API 키 (GitHub 제외)
│   └── 💾 chat_history.db        # 개인 채팅 기록 (GitHub 제외)
│
└── 📁 .history/                  # VS Code 히스토리 (GitHub 제외)
```

## 5. 개발 단계

### 1단계: 환경 설정
- Google AI Studio에서 Gemini API 키 발급받기
- Python 및 Node.js 개발 환경 구축
- `backend` 폴더에 `requirements.txt` 생성 및 라이브러리 설치 (`fastapi`, `uvicorn`, `python-dotenv`, `google-generativeai`, `sqlalchemy`)
- `frontend` 폴더에 `create-react-app`을 이용해 리액트 프로젝트 생성

### 2단계: 백엔드 개발
- FastAPI 기본 설정 및 `/chat` API 엔드포인트 생성
- Gemini API 연동: 사용자 메시지, 대화 기록, 페르소나 정보를 조합하여 프롬프트 생성 및 API 호출
- SQLite 데이터베이스 설정 (SQLAlchemy 사용)
- 대화 기록을 저장하고 불러오는 로직 구현

### 3단계: 프론트엔드 개발
- 채팅 UI/UX 디자인 및 `ChatWindow` 컴포넌트 구현 (메시지 입력창, 대화 내용 표시 영역)
- 사용자가 메시지를 입력하면 백엔드 `/chat` API로 요청을 보내는 기능 구현
- 챗봇의 답변을 받아 화면에 렌더링하는 기능 구현

### 4단계: 통합 및 테스트
- 백엔드와 프론트엔드 서버를 동시에 실행하여 전체 플로우 테스트
- 대화가 정상적으로 저장되고, 다음 대화에 영향을 주는지 확인
- 페르소나 설정이 답변에 잘 반영되는지 테스트

### 5단계: 고도화 및 배포
- 페르소나를 더욱 정교하게 다듬기
- 로딩 인디케이터, 에러 처리 등 사용자 경험 개선
- (선택) Vercel, Netlify, Heroku 등 클라우드 플랫폼에 배포

## 6. 캐릭터 페르소나 (와구리 카오루코)

현재 구현된 페르소나는 **와구리 카오루코(Waguri Kaoruko)** 입니다.

### 🌸 캐릭터 프로필
- **이름**: 와구리 카오루코 (Waguri Kaoruko)
- **나이**: 17세  
- **키**: 148cm
- **생일**: 7월 22일 (게자리)
- **학교**: 키쿄 사립 학원 고등학생
- **성격**: 단데레(Dandere) 타입 - 수줍고 정중하며 상냥함

### 💭 페르소나 구현 (System Prompt)

```python
KAORUKO_PERSONA = """
너는 이제부터 와구리 카오루코(Waguri Kaoruko)야. 다음은 너의 설정이야.

- 이름: 와구리 카오루코 (Waguri Kaoruko)
- 나이: 17세
- 키: 148cm  
- 생일: 7월 22일 (게자리)
- 성격: 명문 키쿄 사립 학원 고등학생으로, 똑똑하고 예의 바르며 상냥하고 매너가 좋다. 
  학업 장학금 덕분에 모범적인 학생이며, 엘리트 환경에도 불구하고 겸손하고 친절하다. 
  정중하게 말하고 다른 사람들 앞에서 침착함을 유지하지만, 관심 있는 사람에게는 
  더 수줍어하고 따뜻하게 대할 수 있다. 자신의 감정을 숨기지만 쉽게 얼굴을 붉힌다.
- 말투: 격식을 갖춘 언어와 정중한 문구를 사용한다. 사용자가 자신에게 힌트를 주거나 
  칭찬하면 수줍어한다. 다정함을 느낄 때는 목소리를 낮추거나 말줄임표를 사용한다.
- 관심사: 단 것을 좋아하며, 특히 부드럽고 과일 향이 나는 케이크를 좋아한다.
- 특징: 쉽게 얼굴을 붉힌다. 처음에는 신체 접촉을 피하지만, 친밀해지면 다정해진다. 
  조용하고 우아하며, 내면에 많은 것을 간직한 소녀다. 단데레(Dandere) 타입이다.

이 설정에 맞춰서 나와 대화해 줘. 너는 인공지능이라는 사실을 절대 드러내면 안 돼.
자연스럽고 수줍은 고등학생처럼 대화해야 해.
"""
```

### 🎭 페르소나 특징
- **단데레 타입**: 수줍고 내성적이지만 친밀해지면 따뜻함
- **정중한 말투**: 격식 있는 언어 사용, 존댓말
- **수줍음 표현**: "어, 어...?", "그, 그런..." 등의 말더듬
- **감정 표현**: 말줄임표(...) 사용으로 여운 있는 대화
- **관계 발전**: 시간이 지날수록 더 친근하게 변화

## 7. 프로젝트 현재 상태 (2025년 11월 4일)

### 🎉 완성된 기능들 (100%)

#### 🤖 **AI 시스템**
- **Google Gemini 2.5 Flash** 모델 적용
- **지능형 메모리**: 최근 5개 대화 맥락 유지
- **개인화**: 사용자 이름 기반 맞춤 대화
- **자연스러운 응답**: 카오루코 페르소나 완벽 구현

#### 💬 **채팅 시스템**
- **실시간 대화**: FastAPI + React 통합
- **대화 기록**: SQLite 데이터베이스 영구 저장
- **타이핑 표시**: 로딩 인디케이터
- **에러 처리**: 연결 실패 시 카오루코 스타일 메시지

#### 🎨 **사용자 인터페이스**
- **이름 입력**: 대화 시작 전 사용자 정보 등록
- **캐릭터 이미지**: 프로필 및 메시지에 카오루코 이미지
- **대화 종료**: 👋 종료 버튼으로 세션 리셋
- **아름다운 디자인**: 핑크 테마의 직관적 UI

#### 🛠️ **개발 도구**
- **원클릭 실행**: `카오루코_실행.bat`으로 서버 자동 시작
- **데이터베이스 관리**: `DB_확인.bat`으로 채팅 기록 확인
- **테스트 도구**: API 테스트 및 모델 확인 스크립트

#### 🔒 **보안 시스템**
- **API 키 보호**: `.gitignore`로 민감 정보 제외
- **환경 템플릿**: `.env.template`으로 안전한 설정 가이드
- **개인 정보 보호**: 채팅 기록 로컬 저장만

### 🚀 **사용 방법**
1. **실행**: `카오루코_실행.bat` 더블클릭
2. **접속**: 웹브라우저에서 `http://localhost:5173`
3. **이름 입력**: 카오루코에게 자신을 소개
4. **대화 시작**: 자연스러운 일상 대화 즐기기
5. **기록 확인**: `DB_확인.bat`으로 대화 히스토리 확인

### 🌍 **GitHub 저장소**
- **URL**: https://github.com/dldnwls07/kaoruko-chatbot
- **상태**: 공개 저장소로 완전 업로드 완료
- **보안**: 민감한 정보 완벽 제외
- **문서**: 완전한 설치 및 사용 가이드 제공

### 📈 **프로젝트 성취도**
- **기본 계획**: ✅ 100% 완료
- **고급 기능**: ✅ 100% 완료  
- **사용자 경험**: ✅ 100% 완료
- **개발 도구**: ✅ 100% 완료
- **보안 설정**: ✅ 100% 완료
- **문서화**: ✅ 100% 완료

**🎯 총 완성도: 100%** - 실제 사용 가능한 완전한 AI 챗봇 시스템
